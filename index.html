<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Th·ªè Nh√¢n √Åi ‚Äì Nh·∫≠t k√Ω Nh√¢n √°i 3-1-1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #ffe9f0, #e3f6ff);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }
    .app {
      background: #ffffffdd;
      backdrop-filter: blur(10px);
      max-width: 520px;
      width: 100%;
      border-radius: 24px;
      box-shadow: 0 18px 35px rgba(0,0,0,0.15);
      padding: 20px 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .header {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .avatar {
      width: 60px; height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, #ffd1e3);
      display: flex; align-items: center; justify-content: center;
      position: relative;
      box-shadow: 0 0 0 3px #fff, 0 10px 18px rgba(0,0,0,0.1);
    }
    .avatar::before, .avatar::after {
      content: "";
      position: absolute;
      width: 18px; height: 34px;
      background: #ffe6f2;
      border-radius: 50px;
      top: -24px;
      box-shadow: inset 0 0 0 2px #ffc1de;
    }
    .avatar::before { left: 6px; transform: rotate(-8deg); }
    .avatar::after  { right: 6px; transform: rotate(8deg); }
    .avatar span { font-size: 30px; }

    .title-box { flex: 1; }
    .title { font-size: 19px; font-weight: 700; color: #ff4f8b; }
    .subtitle { font-size: 13px; color: #555; margin-top: 2px; }
    .tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #fff4f9;
      color: #ff4f8b;
      font-size: 11px;
      margin-top: 4px;
    }

    .field {
      font-size: 13px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .field label {
      font-weight: 600;
      color: #444;
    }
    .field small {
      color: #777;
      font-size: 11px;
    }
    .field input {
      border-radius: 14px;
      border: 1px solid #e0e6ff;
      padding: 6px 10px;
      font-size: 13px;
      outline: none;
      background: #f7fbff;
    }

    .chat {
      background: #fbfbff;
      border-radius: 18px;
      padding: 10px;
      border: 1px solid #edf1ff;
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-height: 260px;
      overflow-y: auto;
      font-size: 13px;
    }
    .msg { display: flex; }
    .msg.me { justify-content: flex-end; }
    .bubble {
      max-width: 82%;
      padding: 8px 10px;
      border-radius: 14px;
      line-height: 1.4;
      word-wrap: break-word;
      white-space: pre-line;
    }
    .msg.me .bubble {
      background: #ffebf5;
      color: #333;
      border-bottom-right-radius: 4px;
    }
    .msg.bot .bubble {
      background: #eef5ff;
      color: #222;
      border-bottom-left-radius: 4px;
    }
    .msg.bot .bubble strong { color: #ff4f8b; }

    .hint {
      font-size: 11px;
      color: #777;
    }
    textarea {
      width: 100%;
      resize: none;
      border-radius: 14px;
      border: 1px solid #e0e6ff;
      padding: 8px 10px;
      min-height: 70px;
      font-size: 13px;
      outline: none;
    }
    .buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    button, a.btn {
      border: none;
      border-radius: 14px;
      padding: 8px 14px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #ff7bb5, #ff4f8b);
      color: #fff;
      box-shadow: 0 8px 14px rgba(255,79,139,0.4);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
    }
    button.secondary, a.btn.secondary {
      background: #e7efff;
      color: #345;
      box-shadow: none;
      border: 1px solid #c9d7ff;
    }
    button:active, a.btn:active {
      transform: translateY(1px);
      box-shadow: 0 4px 10px rgba(255,79,139,0.35);
    }
    .form-note {
      font-size: 11px;
      color: #666;
    }

    @media (max-width: 520px) {
      .app { padding: 16px 14px; }
      .title { font-size: 18px; }
      .avatar { width: 54px; height: 54px; }
    }
  </style>
</head>
<body>
<div class="app">
  <div class="header">
    <div class="avatar"><span>üê∞</span></div>
    <div class="title-box">
      <div class="title">Th·ªè Nh√¢n √Åi</div>
      <div class="subtitle">L·∫Øng nghe phi·∫øu 3‚Äì1‚Äì1 v√† g·ª≠i l·ªùi khen cho con üíõ</div>
      <div class="tag">Nh·∫≠t k√Ω Nh√¢n √°i ‚Äì 3 l·ªùi c·∫£m ∆°n, 1 vi·ªác t·ªët, 1 l·ªùi y√™u th∆∞∆°ng</div>
    </div>
  </div>

  <div class="field">
    <label for="studentName">T√™n h·ªçc sinh</label>
    <input id="studentName" placeholder="V√≠ d·ª•: Nguy·ªÖn Gia H√¢n..." />
  </div>

  <div class="field">
    <label for="userInput">N·ªôi dung phi·∫øu nh√¢n √°i tu·∫ßn n√†y</label>
    <small>Con c√≥ th·ªÉ g√µ l·∫°i 3 l·ªùi c·∫£m ∆°n, 1 vi·ªác t·ªët, 1 l·ªùi y√™u th∆∞∆°ng (ho·∫∑c t√≥m t·∫Øt ƒëi·ªÅu t·ªët con ƒë√£ l√†m).</small>
    <textarea id="userInput" placeholder="V√≠ d·ª•: Con c·∫£m ∆°n m·∫π v√¨..., con ƒë√£ gi√∫p b·∫°n..., con mu·ªën g·ª≠i l·ªùi y√™u th∆∞∆°ng ƒë·∫øn..."></textarea>
  </div>

  <div class="chat" id="chatBox">
    <div class="msg bot">
      <div class="bubble">
        <strong>Th·ªè Nh√¢n √Åi:</strong><br>
        Ch√†o con! Sau khi con vi·∫øt xong n·ªôi dung phi·∫øu, b·∫•m ‚ÄúG·ª≠i cho Th·ªè‚Äù. Th·ªè s·∫Ω ƒë·ªçc
        v√† g·ª≠i l·ªùi khen ho·∫∑c l·ªùi ƒë·ªông vi√™n cho con nh√©. üåü
      </div>
    </div>
  </div>

  <div class="hint">
    G·ª£i √Ω t·ª´ kh√≥a: c·∫£m ∆°n, xin l·ªói, gi√∫p ƒë·ª°, chia s·∫ª, th∆∞∆°ng, y√™u, an ·ªßi, l·∫Øng nghe...
  </div>

  <div class="buttons">
    <button id="sendBtn">G·ª≠i cho Th·ªè</button>
    <a id="formBtn" class="btn secondary" href="#" target="_blank" style="display:none;">
      G·ª≠i phi·∫øu cho c√¥ (Google Form)
    </a>
  </div>
  <div class="form-note">
    Sau khi Th·ªè ph·∫£n h·ªìi, con b·∫•m ‚ÄúG·ª≠i phi·∫øu cho c√¥‚Äù ƒë·ªÉ m·ªü Google Form v√† n·ªôp b√†i.  
    C√¥ s·∫Ω d√πng Form n√†y ƒë·ªÉ t·ªïng k·∫øt theo th√°ng, h·ªçc k√¨.
  </div>
</div>

<script>
  const chatBox   = document.getElementById("chatBox");
  const nameInput = document.getElementById("studentName");
  const textInput = document.getElementById("userInput");
  const sendBtn   = document.getElementById("sendBtn");
  const formBtn   = document.getElementById("formBtn");

  // ‚≠ê C√î D√ÅN LINK GOOGLE FORM C·ª¶A C√î V√ÄO ƒê√ÇY ‚≠ê
  const GOOGLE_FORM_BASE = "https://forms.gle/THAY_LINK_FORM_CUA_CO";

  function scrollToBottom() {
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  function addMessage(html, from = "bot") {
    const msg = document.createElement("div");
    msg.className = "msg " + (from === "me" ? "me" : "bot");
    const bubble = document.createElement("div");
    bubble.className = "bubble";
    bubble.innerHTML = html;
    msg.appendChild(bubble);
    chatBox.appendChild(msg);
    scrollToBottom();
  }

  function makeBotReply(name, content) {
    const t = content.toLowerCase();

    const hasThank  = t.includes("c·∫£m ∆°n") || t.includes("cam on");
    const hasLove   = t.includes("th∆∞∆°ng") || t.includes("thuong") || t.includes("y√™u") || t.includes("yeu");
    const hasHelp   = t.includes("gi√∫p") || t.includes("giup") ||
                      t.includes("chia s·∫ª") || t.includes("chia se") ||
                      t.includes("nh·∫∑t") || t.includes("nhat");
    const hasSorry  = t.includes("xin l·ªói") || t.includes("xin loi");

    let lines = [];
    lines.push(`Ch√†o ${name}! üê∞ Th·ªè ƒë√£ ƒë·ªçc h·∫øt phi·∫øu nh√¢n √°i c·ªßa con r·ªìi.`);

    if (hasHelp) {
      lines.push("Con ƒë√£ c√≥ nh·ªØng h√†nh ƒë·ªông gi√∫p ƒë·ª°, chia s·∫ª r·∫•t d·ªÖ th∆∞∆°ng. ƒêi·ªÅu ƒë√≥ l√†m th·∫ø gi·ªõi quanh con tr·ªü n√™n ·∫•m √°p h∆°n nhi·ªÅu. üåà");
    }
    if (hasThank) {
      lines.push("Th·ªè r·∫•t th√≠ch c√°ch con bi·∫øt n√≥i l·ªùi c·∫£m ∆°n. M·ªôt c√¢u c·∫£m ∆°n nh·ªè nh∆∞ng mang theo r·∫•t nhi·ªÅu y√™u th∆∞∆°ng v√† t√¥n tr·ªçng. üíõ");
    }
    if (hasSorry) {
      lines.push("Vi·ªác con d√°m n√≥i l·ªùi xin l·ªói cho th·∫•y con l√† ng∆∞·ªùi d≈©ng c·∫£m v√† bi·∫øt ch·ªãu tr√°ch nhi·ªám v·ªõi vi·ªác m√¨nh l√†m. üíñ");
    }
    if (hasLove) {
      lines.push("Th·ªè c·∫£m nh·∫≠n ƒë∆∞·ª£c r·∫•t nhi·ªÅu t√¨nh y√™u th∆∞∆°ng trong nh·ªØng d√≤ng con vi·∫øt. Ng∆∞·ªùi nh·∫≠n ch·∫Øc ch·∫Øn s·∫Ω r·∫•t h·∫°nh ph√∫c. ü•∞");
    }

    if (!hasThank || !hasLove) {
      let suggest = "Tu·∫ßn sau, con th·ª≠ ";
      if (!hasThank && !hasLove) {
        suggest += "v·ª´a l√†m m·ªôt vi·ªác t·ªët, v·ª´a n√≥i l·ªùi c·∫£m ∆°n ho·∫∑c l·ªùi y√™u th∆∞∆°ng v·ªõi ai ƒë√≥ nh√©. Th·ªè tin con l√†m ƒë∆∞·ª£c! ‚ú®";
      } else if (!hasThank) {
        suggest += "t√¨m m·ªôt ng∆∞·ªùi m√† con mu·ªën g·ª≠i l·ªùi c·∫£m ∆°n v√† n√≥i v·ªõi ng∆∞·ªùi ƒë√≥ nh√©. ƒêi·ªÅu ƒë√≥ s·∫Ω l√†m tr√°i tim c·∫£ hai c√πng vui. üåü";
      } else if (!hasLove) {
        suggest += "g·ª≠i th√™m m·ªôt l·ªùi y√™u th∆∞∆°ng (v·ªõi ba m·∫π, √¥ng b√†, b·∫°n b√® ho·∫∑c th·∫ßy c√¥) nh√©. Y√™u th∆∞∆°ng n√≥i ra s·∫Ω lan t·ªèa r·∫•t xa ƒë·∫•y! üå∑";
      }
      lines.push(suggest);
    } else {
      lines.push("Tu·∫ßn n√†y con ƒë√£ v·ª´a l√†m vi·ªác t·ªët, v·ª´a c√≥ l·ªùi c·∫£m ∆°n v√† y√™u th∆∞∆°ng. Th·ªè t·∫∑ng con m·ªôt b√¥ng hoa Nh√¢n √Åi th·∫≠t to! üå∏ Ti·∫øp t·ª•c ph√°t huy nh√©!");
    }

    const replyHtml = "<strong>Th·ªè Nh√¢n √Åi:</strong><br>" + lines.join(" ");
    setTimeout(() => addMessage(replyHtml, "bot"), 500);
  }

  function handleSend() {
    const name = (nameInput.value || "").trim() || "con";
    const content = (textInput.value || "").trim();
    if (!content) return;

    addMessage(content, "me");
    makeBotReply(name, content);

    if (GOOGLE_FORM_BASE && GOOGLE_FORM_BASE.startsWith("http")) {
      formBtn.style.display = "inline-flex";
      formBtn.onclick = function () {
        window.open(GOOGLE_FORM_BASE, "_blank");
      };
    }

    textInput.value = "";
  }

  sendBtn.addEventListener("click", handleSend);
  textInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter" && !e.shiftKey) {
      e.preventDefault();
      handleSend();
    }
  });
</script>
</body>
</html>
const GOOGLE_FORM_BASE = "https://docs.google.com/forms/d/e/1FAIpQLScFujTGwUCGm-ACOQrUbe4DgnfLXWYAK5C5H_TgwFzoW9rn8w/viewform?usp=header";
